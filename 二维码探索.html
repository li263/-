<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç‰›è‚‰æº¯æºåŒºå—é“¾ç³»ç»Ÿ - ä»ç‰§åœºåˆ°é¤æ¡Œçš„ä¿¡ä»»æ¡¥æ¢</title>
    <style>
        :root {
            --primary: #1a5276;
            --primary-dark: #154360;
            --primary-light: #2e86c1;
            --secondary: #28b463;
            --secondary-dark: #1d8348;
            --accent: #e74c3c;
            --accent-light: #ec7063;
            --warning: #f39c12;
            --light: #f8f9f9;
            --light-gray: #ecf0f1;
            --dark: #2c3e50;
            --text: #34495e;
            --success: #27ae60;
            --shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            --shadow-lg: 0 10px 20px rgba(0, 0, 0, 0.15);
            --radius: 12px;
            --transition: all 0.3s ease;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', 'å¾®è½¯é›…é»‘', system-ui, -apple-system, sans-serif;
        }

        body {
            background: linear-gradient(135deg, #f5f7fa 0%, #e3e8f0 100%);
            color: var(--text);
            line-height: 1.6;
            min-height: 100vh;
            padding: 20px;
            position: relative;
            overflow-x: hidden;
        }

        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" width="100" height="100" opacity="0.02"><path d="M11 11h8v8h-8zM41 11h8v8h-8zM71 11h8v8h-8zM11 41h8v8h-8zM41 41h8v8h-8zM71 41h8v8h-8zM11 71h8v8h-8zM41 71h8v8h-8zM71 71h8v8h-8z" fill="%23000"/></svg>');
            z-index: -1;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            position: relative;
        }

        /* å¤´éƒ¨æ ·å¼ä¼˜åŒ– */
        header {
            text-align: center;
            margin-bottom: 40px;
            padding: 30px;
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.95) 0%, rgba(255, 255, 255, 0.85) 100%);
            border-radius: var(--radius);
            box-shadow: var(--shadow-lg);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.5);
            position: relative;
            overflow: hidden;
        }

        header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 4px;
            background: linear-gradient(90deg, var(--primary), var(--secondary), var(--accent));
        }

        h1 {
            color: var(--primary);
            margin-bottom: 15px;
            font-size: 2.8rem;
            font-weight: 700;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            position: relative;
            display: inline-block;
        }

        h1::after {
            content: '';
            position: absolute;
            bottom: -10px;
            left: 50%;
            transform: translateX(-50%);
            width: 80px;
            height: 4px;
            background: linear-gradient(90deg, var(--primary), var(--secondary));
            border-radius: 2px;
        }

        .subtitle {
            color: var(--primary-light);
            font-size: 1.3rem;
            margin-bottom: 20px;
            font-weight: 500;
            max-width: 800px;
            margin-left: auto;
            margin-right: auto;
            line-height: 1.8;
        }

        /* ç³»ç»Ÿæ¦‚è§ˆå¡ç‰‡ä¼˜åŒ– */
        .system-overview {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 25px;
            margin-bottom: 40px;
        }

        .overview-card {
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.95) 0%, rgba(255, 255, 255, 0.85) 100%);
            padding: 30px 25px;
            border-radius: var(--radius);
            box-shadow: var(--shadow);
            transition: var(--transition);
            text-align: center;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.5);
            position: relative;
            overflow: hidden;
        }

        .overview-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 5px;
            background: linear-gradient(90deg, var(--primary), var(--secondary));
        }

        .overview-card:hover {
            transform: translateY(-10px);
            box-shadow: var(--shadow-lg);
        }

        .overview-card h3 {
            color: var(--primary);
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.4rem;
        }

        .overview-card h3 i {
            margin-right: 15px;
            font-size: 2.2rem;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .overview-card p {
            color: var(--text);
            line-height: 1.7;
            font-size: 1.05rem;
        }

        /* æ§åˆ¶é¢æ¿ä¼˜åŒ– */
        .control-panel {
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.95) 0%, rgba(255, 255, 255, 0.85) 100%);
            padding: 30px;
            border-radius: var(--radius);
            margin-bottom: 40px;
            box-shadow: var(--shadow);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.5);
        }

        .control-buttons {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 20px;
            margin-bottom: 25px;
        }

        .btn {
            padding: 14px 28px;
            font-size: 1.1rem;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            box-shadow: var(--shadow);
            position: relative;
            overflow: hidden;
        }

        .btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
            transition: left 0.7s;
        }

        .btn:hover::before {
            left: 100%;
        }

        .btn i {
            margin-right: 10px;
            font-size: 1.3rem;
        }

        .btn-primary {
            background: linear-gradient(135deg, var(--primary), var(--primary-light));
            color: white;
        }

        .btn-primary:hover {
            background: linear-gradient(135deg, var(--primary-dark), var(--primary));
            transform: translateY(-3px);
            box-shadow: 0 7px 14px rgba(0, 0, 0, 0.15);
        }

        .btn-success {
            background: linear-gradient(135deg, var(--secondary), #2ecc71);
            color: white;
        }

        .btn-success:hover {
            background: linear-gradient(135deg, var(--secondary-dark), var(--secondary));
            transform: translateY(-3px);
            box-shadow: 0 7px 14px rgba(0, 0, 0, 0.15);
        }

        .btn-warning {
            background: linear-gradient(135deg, var(--warning), #f1c40f);
            color: white;
        }

        .btn-warning:hover {
            background: linear-gradient(135deg, #e67e22, var(--warning));
            transform: translateY(-3px);
            box-shadow: 0 7px 14px rgba(0, 0, 0, 0.15);
        }

        .status-indicator {
            text-align: center;
            font-size: 1.2rem;
            margin: 25px 0;
            padding: 20px;
            border-radius: 8px;
            background: rgba(236, 240, 241, 0.7);
            box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.05);
            border-left: 5px solid var(--secondary);
            font-weight: 600;
            color: var(--dark);
        }

        /* åŒºå—é“¾å®¹å™¨ä¼˜åŒ– */
        .blockchain-container {
            display: flex;
            flex-direction: column;
            gap: 25px;
            margin-bottom: 40px;
        }

        .block {
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.95) 0%, rgba(255, 255, 255, 0.85) 100%);
            padding: 30px;
            border-radius: var(--radius);
            box-shadow: var(--shadow);
            transition: var(--transition);
            border-left: 6px solid var(--primary-light);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.5);
            position: relative;
        }

        .block::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 6px;
            height: 100%;
            background: linear-gradient(to bottom, var(--primary-light), var(--secondary));
        }

        .block:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-lg);
        }

        .block.genesis {
            border-left-color: var(--accent);
        }

        .block.genesis::before {
            background: linear-gradient(to bottom, var(--accent), var(--accent-light));
        }

        .block.new {
            border-left-color: var(--success);
            animation: pulse 2.5s infinite;
        }

        .block.new::before {
            background: linear-gradient(to bottom, var(--success), #2ecc71);
        }

        .block-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 1px solid rgba(0, 0, 0, 0.08);
        }

        .block-title {
            font-size: 1.6rem;
            color: var(--primary);
            font-weight: 700;
        }

        .block-badge {
            background: linear-gradient(135deg, var(--primary), var(--primary-light));
            color: white;
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: 600;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        .block-content {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 20px;
        }

        .block-field {
            padding: 15px;
            background: rgba(236, 240, 241, 0.5);
            border-radius: 8px;
            transition: var(--transition);
        }

        .block-field:hover {
            background: rgba(236, 240, 241, 0.8);
            transform: translateY(-2px);
        }

        .field-label {
            font-weight: 700;
            color: var(--primary);
            margin-bottom: 8px;
            font-size: 0.95rem;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .field-value {
            color: var(--dark);
            word-break: break-all;
            line-height: 1.5;
            font-family: 'Courier New', monospace;
            font-size: 0.95rem;
        }

        /* æ¨¡æ€æ¡†ä¼˜åŒ– */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            z-index: 1000;
            justify-content: center;
            align-items: center;
            backdrop-filter: blur(5px);
            animation: fadeIn 0.3s ease;
        }

        .modal-content {
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.98) 0%, rgba(255, 255, 255, 0.95) 100%);
            padding: 40px;
            border-radius: var(--radius);
            width: 90%;
            max-width: 700px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.2);
            max-height: 85vh;
            overflow-y: auto;
            position: relative;
            border: 1px solid rgba(255, 255, 255, 0.5);
            animation: slideUp 0.4s ease;
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 1px solid rgba(0, 0, 0, 0.1);
        }

        .modal-title {
            font-size: 1.8rem;
            color: var(--primary);
            font-weight: 700;
        }

        .close-btn {
            background: var(--accent);
            color: white;
            border: none;
            padding: 10px 18px;
            border-radius: 6px;
            cursor: pointer;
            font-weight: 600;
            transition: var(--transition);
            box-shadow: var(--shadow);
        }

        .close-btn:hover {
            background: var(--accent-light);
            transform: translateY(-2px);
        }

        .qr-section {
            text-align: center;
            margin: 40px 0;
            padding: 30px;
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.95) 0%, rgba(255, 255, 255, 0.85) 100%);
            border-radius: var(--radius);
            box-shadow: var(--shadow);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.5);
        }

        .qr-section h3 {
            color: var(--primary);
            margin-bottom: 15px;
            font-size: 1.8rem;
        }

        .qr-section p {
            color: var(--text);
            margin-bottom: 20px;
            font-size: 1.1rem;
        }

        .qr-code {
            width: 180px;
            height: 180px;
            margin: 0 auto 20px;
            background: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 16px;
            color: #777;
            border-radius: 12px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            border: 1px solid rgba(0, 0, 0, 0.05);
            position: relative;
            overflow: hidden;
        }

        .qr-code img {
            width: 100%;
            height: 100%;
            object-fit: contain;
            padding: 10px;
        }

        .qr-code::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background:
                radial-gradient(circle at 30% 30%, rgba(42, 157, 244, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 70% 70%, rgba(46, 204, 113, 0.1) 0%, transparent 50%);
        }

        /* äºŒç»´ç ä¸‹è½½æŒ‰é’® */
        .qr-download {
            margin-top: 10px;
            padding: 10px 20px;
            background: linear-gradient(135deg, var(--primary), var(--primary-light));
            color: white;
            border: none;
            border-radius: 6px;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            box-shadow: var(--shadow);
        }

        .qr-download:hover {
            background: linear-gradient(135deg, var(--primary-dark), var(--primary));
            transform: translateY(-2px);
        }

        footer {
            text-align: center;
            margin-top: 50px;
            padding: 30px;
            color: var(--text);
            font-size: 1rem;
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.9) 0%, rgba(255, 255, 255, 0.8) 100%);
            border-radius: var(--radius);
            box-shadow: var(--shadow);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.5);
        }

        /* åŠ¨ç”»å®šä¹‰ */
        @keyframes pulse {
            0% {
                box-shadow: 0 0 0 0 rgba(39, 174, 96, 0.5);
            }

            70% {
                box-shadow: 0 0 0 15px rgba(39, 174, 96, 0);
            }

            100% {
                box-shadow: 0 0 0 0 rgba(39, 174, 96, 0);
            }
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
            }

            to {
                opacity: 1;
            }
        }

        @keyframes slideUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* å“åº”å¼è®¾è®¡ */
        @media (max-width: 768px) {
            .system-overview {
                grid-template-columns: 1fr;
            }

            .block-content {
                grid-template-columns: 1fr;
            }

            .control-buttons {
                flex-direction: column;
                align-items: center;
            }

            .btn {
                width: 100%;
                max-width: 300px;
            }

            h1 {
                font-size: 2.2rem;
            }

            .subtitle {
                font-size: 1.1rem;
            }

            .modal-content {
                padding: 25px;
            }

            .qr-code {
                width: 150px;
                height: 150px;
            }
        }

        /* è‡ªå®šä¹‰æ»šåŠ¨æ¡ */
        ::-webkit-scrollbar {
            width: 8px;
        }

        ::-webkit-scrollbar-track {
            background: rgba(0, 0, 0, 0.05);
            border-radius: 4px;
        }

        ::-webkit-scrollbar-thumb {
            background: var(--primary-light);
            border-radius: 4px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: var(--primary);
        }

        /* åŠ è½½åŠ¨ç”» */
        .loader {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            border-top-color: #fff;
            animation: spin 1s ease-in-out infinite;
            margin-right: 10px;
        }

        @keyframes spin {
            to {
                transform: rotate(360deg);
            }
        }

        /* è¿›åº¦æ¡æ ·å¼ */
        .progress-bar {
            height: 6px;
            background: rgba(0, 0, 0, 0.1);
            border-radius: 3px;
            overflow: hidden;
            margin: 15px 0;
        }

        .progress {
            height: 100%;
            background: linear-gradient(90deg, var(--primary), var(--secondary));
            width: 0%;
            transition: width 0.5s ease;
        }
    </style>
</head>

<body>
    <div class="container">
        <header>
            <h1>ğŸ¥© ç‰›è‚‰æº¯æºåŒºå—é“¾ç³»ç»Ÿ</h1>
            <p class="subtitle">åŸºäºåˆ†å¸ƒå¼è´¦æœ¬æŠ€æœ¯çš„å…¨é“¾æ¡é£Ÿå“æº¯æºè§£å†³æ–¹æ¡ˆï¼Œç¡®ä¿ä»ç‰§åœºåˆ°é¤æ¡Œçš„æ¯ä¸€ç¯èŠ‚æ•°æ®çœŸå®å¯ä¿¡ã€ä¸å¯ç¯¡æ”¹ï¼Œå»ºç«‹æ¶ˆè´¹è€…ä¸ç”Ÿäº§è€…ä¹‹é—´çš„ä¿¡ä»»æ¡¥æ¢</p>
        </header>

        <div class="system-overview">
            <div class="overview-card">
                <h3><i>ğŸ”—</i> åŒºå—é“¾æŠ€æœ¯ä¿éšœ</h3>
                <p>é‡‡ç”¨å»ä¸­å¿ƒåŒ–åˆ†å¸ƒå¼è´¦æœ¬æŠ€æœ¯ï¼Œæ‰€æœ‰æº¯æºæ•°æ®ä¸€ç»è®°å½•æ°¸ä¹…ä¿å­˜ã€ä¸å¯ç¯¡æ”¹ï¼Œç¡®ä¿ä¿¡æ¯çœŸå®æ€§ä¸é€æ˜åº¦ï¼Œè§£å†³ä¼ ç»Ÿæº¯æºç³»ç»Ÿæ•°æ®æ˜“è¢«ç¯¡æ”¹çš„ç—›ç‚¹ã€‚</p>
            </div>
            <div class="overview-card">
                <h3><i>ğŸ“…</i> å…¨ç”Ÿå‘½å‘¨æœŸè¿½è¸ª</h3>
                <p>ç²¾ç¡®è®°å½•ç‰›è‚‰ä»å…»æ®–ã€å± å®°ã€åŠ å·¥ã€è¿è¾“åˆ°é”€å”®çš„å…¨è¿‡ç¨‹æ•°æ®ï¼ŒåŒ…æ‹¬æ—¶é—´ç‚¹ã€ç¯å¢ƒå‚æ•°ã€è´¨æ£€æŠ¥å‘Šç­‰ï¼Œå®ç°å…¨ç¨‹å¯è¿½æº¯ã€‚</p>
            </div>
            <div class="overview-card">
                <h3><i>ğŸŒ¡ï¸</i> æ™ºèƒ½ç¯å¢ƒç›‘æ§</h3>
                <p>é›†æˆç‰©è”ç½‘ä¼ æ„Ÿå™¨ï¼Œå®æ—¶ç›‘æ§è¿è¾“ä¸å­˜å‚¨ç¯å¢ƒçš„æ¸©åº¦ã€æ¹¿åº¦ç­‰å…³é”®å‚æ•°ï¼Œç¡®ä¿ç‰›è‚‰å“è´¨å…¨ç¨‹å¯æ§ï¼Œé™ä½é£Ÿå“å®‰å…¨é£é™©ã€‚</p>
            </div>
        </div>

        <div class="control-panel">
            <div class="control-buttons">
                <button class="btn btn-primary" id="addBeefBtn">
                    <i>â•</i> æ–°å¢ç‰›è‚‰æ‰¹æ¬¡
                </button>
                <button class="btn btn-primary" id="updateStatusBtn">
                    <i>ğŸ”„</i> æ›´æ–°æµè½¬çŠ¶æ€
                </button>
                <button class="btn btn-success" id="verifyBtn">
                    <i>âœ…</i> éªŒè¯åŒºå—é“¾å®Œæ•´æ€§
                </button>
                <button class="btn btn-warning" id="scanQRBtn">
                    <i>ğŸ“±</i> æ¨¡æ‹Ÿæ¶ˆè´¹è€…æ‰«ç æº¯æº
                </button>
            </div>

            <div class="status-indicator" id="statusIndicator">
                <span id="statusIcon">âœ…</span> ç³»ç»Ÿå°±ç»ª - å½“å‰åŒºå—é“¾ä¸­å…±æœ‰ <span id="blockCount">3</span> ä¸ªåŒºå—ï¼Œæ‰€æœ‰æ•°æ®å®Œæ•´å¯éªŒè¯
            </div>

            <div class="progress-bar">
                <div class="progress" id="systemProgress" style="width: 100%"></div>
            </div>
        </div>

        <div class="blockchain-container" id="blockList">
            <!-- åŒºå—å°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
        </div>

        <div class="qr-section">
            <h3>æ¶ˆè´¹è€…æº¯æºä½“éªŒ</h3>
            <p>ä½¿ç”¨æ‰‹æœºæ‰«æäº§å“åŒ…è£…ä¸Šçš„äºŒç»´ç ï¼Œå³å¯æŸ¥çœ‹ç‰›è‚‰ä»ç‰§åœºåˆ°é¤æ¡Œçš„å®Œæ•´æº¯æºä¿¡æ¯</p>
            <div class="qr-code" id="qrCodeContainer">
                <!-- äºŒç»´ç å°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
                <img id="qrImage" alt="åŒºå—é“¾æº¯æºäºŒç»´ç " src="">
            </div>
            <button class="qr-download" id="downloadQrBtn">ä¸‹è½½äºŒç»´ç å›¾ç‰‡</button>
            <p style="margin-top: 15px;">æ‰«ç å¯æŸ¥çœ‹è¯¦ç»†ä¿¡æ¯ï¼šå…»æ®–ç‰§åœºã€ç”Ÿäº§æ—¥æœŸã€æ£€ç–«æŠ¥å‘Šã€ç‰©æµè½¨è¿¹ã€å­˜å‚¨ç¯å¢ƒç­‰å…¨ç»´åº¦æ•°æ®</p>
        </div>

        <footer>
            <p>ç‰›è‚‰æº¯æºåŒºå—é“¾ç³»ç»Ÿ Â© 2025 | åŸºäºHyperledger Fabricæ„å»º | æ•°æ®ä¸å¯ç¯¡æ”¹ | å…¨ç¨‹å¯è¿½æº¯</p>
        </footer>
    </div>

    <!-- æ·»åŠ ç‰›è‚‰æ‰¹æ¬¡æ¨¡æ€æ¡† -->
    <div class="modal" id="addBeefModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">æ–°å¢ç‰›è‚‰æ‰¹æ¬¡æˆåŠŸ</h3>
                <button class="close-btn" id="closeAddModal">å…³é—­</button>
            </div>
            <div id="addBeefContent">
                <div class="block-field">
                    <div class="field-label">ç‰›è‚‰æ‰¹æ¬¡å·</div>
                    <div class="field-value">B20251126001</div>
                </div>
                <div class="block-field">
                    <div class="field-label">ç”Ÿäº§æ—¥æœŸ</div>
                    <div class="field-value" id="productionDate">2025-11-26</div>
                </div>
                <div class="block-field">
                    <div class="field-label">å…»æ®–åœºä¿¡æ¯</div>
                    <div class="field-value">å†…è’™å¤é”¡æ—éƒ­å‹’ç›Ÿå¤©ç„¶ç‰§åœº</div>
                </div>
                <div class="block-field">
                    <div class="field-label">ç‰›åªå“ç§</div>
                    <div class="field-value">è¥¿é—¨å¡”å°”ç‰›</div>
                </div>
                <div class="block-field">
                    <div class="field-label">å½“å‰çŠ¶æ€</div>
                    <div class="field-value">ç‰§åœºå…»æ®–ä¸­</div>
                </div>
                <div class="block-field">
                    <div class="field-label">åŒºå—å“ˆå¸Œ</div>
                    <div class="field-value" id="newBlockHash">0x4a1f9b8c3d7e2a6b5c8e9f0a1b2c3d4e5f6a7b8c9d0e1f</div>
                </div>
                <div class="block-field">
                    <div class="field-label">ä¸Šé“¾æ—¶é—´</div>
                    <div class="field-value" id="blockchainTime">2025-11-26 10:25:36</div>
                </div>
            </div>
        </div>
    </div>

    <!-- çŠ¶æ€æ›´æ–°æ¨¡æ€æ¡† -->
    <div class="modal" id="statusModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">ç‰›è‚‰çŠ¶æ€æ›´æ–°æˆåŠŸ</h3>
                <button class="close-btn" id="closeStatusModal">å…³é—­</button>
            </div>
            <div id="statusContent">
                <div class="block-field">
                    <div class="field-label">ç‰›è‚‰æ‰¹æ¬¡å·</div>
                    <div class="field-value">B20251126001</div>
                </div>
                <div class="block-field">
                    <div class="field-label">å‰ä¸€ä¸ªçŠ¶æ€</div>
                    <div class="field-value">ç‰§åœºå…»æ®–ä¸­</div>
                </div>
                <div class="block-field">
                    <div class="field-label">æ–°çŠ¶æ€</div>
                    <div class="field-value">å± å®°åŠ å·¥ä¸­</div>
                </div>
                <div class="block-field">
                    <div class="field-label">æ›´æ–°æ—¶é—´</div>
                    <div class="field-value" id="updateTime">2025-11-26 10:30:15</div>
                </div>
                <div class="block-field">
                    <div class="field-label">æ¸©åº¦è®°å½•</div>
                    <div class="field-value">å…¨ç¨‹0-4Â°Cå†·é“¾è¿è¾“ï¼Œç¬¦åˆé£Ÿå“å®‰å…¨æ ‡å‡†</div>
                </div>
                <div class="block-field">
                    <div class="field-label">è´¨æ£€æŠ¥å‘Š</div>
                    <div class="field-value">æ£€ç–«åˆæ ¼ï¼Œç¬¦åˆGB 2707-2016é²œ(å†»)ç•œè‚‰å«ç”Ÿæ ‡å‡†</div>
                </div>
                <div class="block-field">
                    <div class="field-label">åŒºå—é“¾äº¤æ˜“ID</div>
                    <div class="field-value">0x8d3c7a1f9b5e2c4a6d8e0f1a3b5c7d9e2f4a6</div>
                </div>
            </div>
        </div>
    </div>

    <!-- éªŒè¯ç»“æœæ¨¡æ€æ¡† -->
    <div class="modal" id="verifyModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">åŒºå—é“¾å®Œæ•´æ€§éªŒè¯æŠ¥å‘Š</h3>
                <button class="close-btn" id="closeVerifyModal">å…³é—­</button>
            </div>
            <div id="verifyContent">
                <div style="text-align: center; padding: 20px;">
                    <div style="font-size: 68px; margin-bottom: 20px;">âœ…</div>
                    <h3 style="color: var(--success); margin-bottom: 15px;">åŒºå—é“¾éªŒè¯é€šè¿‡ï¼</h3>
                    <p style="font-size: 1.1rem; margin-bottom: 25px;">æ‰€æœ‰åŒºå—å“ˆå¸Œé“¾æ¥æ­£ç¡®ï¼Œæ•°æ®å®Œæ•´ä¸”æœªè¢«ç¯¡æ”¹ï¼Œæº¯æºä¿¡æ¯çœŸå®å¯ä¿¡</p>
                    <div
                        style="margin-top: 20px; background: rgba(236, 240, 241, 0.7); padding: 20px; border-radius: 10px;">
                        <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 15px; text-align: left;">
                            <div>
                                <p><strong>éªŒè¯æ—¶é—´:</strong> <span id="verifyTime">2025-11-26 10:35:22</span></p>
                                <p><strong>éªŒè¯åŒºå—æ•°:</strong> <span id="verifiedBlocks">5</span> ä¸ª</p>
                            </div>
                            <div>
                                <p><strong>åŒºå—é“¾é«˜åº¦:</strong> 5</p>
                                <p><strong>æ•°æ®å®Œæ•´æ€§:</strong> 100%</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // å¢å¼ºç‰ˆåŒºå—é“¾æ•°æ®ï¼ˆç‰›è‚‰æº¯æºä¸“ç”¨ï¼‰
        let blockchain = [
            {
                index: 1,
                hash: "0x1a2b3c4d5e6f7a8b9c0d1e2f3a4b5c6d7e8f9a0b1c2d3e4f5a6b7c8d9e0f1a2b",
                previousHash: "0x0000000000000000000000000000000000000000000000000000000000000000",
                timestamp: 1732617600000,
                nonce: 96586,
                data: {
                    type: "åˆ›ä¸–åŒºå—",
                    description: "ç‰›è‚‰æº¯æºåŒºå—é“¾ç³»ç»Ÿåˆå§‹åŒ–",
                    version: "v2.1.0",
                    network: "ç‰›è‚‰æº¯æºä¸»é“¾"
                }
            },
            {
                index: 2,
                hash: "0x2b3c4d5e6f7a8b9c0d1e2f3a4b5c6d7e8f9a0b1c2d3e4f5a6b7c8d9e0f1a2b3c",
                previousHash: "0x1a2b3c4d5e6f7a8b9c0d1e2f3a4b5c6d7e8f9a0b1c2d3e4f5a6b7c8d9e0f1a2b",
                timestamp: 1732617601000,
                nonce: 231085,
                data: {
                    type: "ç‰›è‚‰æ‰¹æ¬¡åˆ›å»º",
                    batchId: "B20251125001",
                    productionDate: "2025-11-25",
                    status: "ç‰§åœºå…»æ®–ä¸­",
                    farm: "å†…è’™å¤é”¡æ—éƒ­å‹’ç›Ÿå¤©ç„¶ç‰§åœº",
                    breed: "è¥¿é—¨å¡”å°”ç‰›",
                    farmer: "å¼ å¤§å±±",
                    notes: "ç‰›åªå¥åº·ï¼Œå¼€å§‹é¥²å…»è®°å½•ï¼Œé¥²è‰æ¥æºå¯è¿½æº¯"
                }
            },
            {
                index: 3,
                hash: "0x3c4d5e6f7a8b9c0d1e2f3a4b5c6d7e8f9a0b1c2d3e4f5a6b7c8d9e0f1a2b3c4d",
                previousHash: "0x2b3c4d5e6f7a8b9c0d1e2f3a4b5c6d7e8f9a0b1c2d3e4f5a6b7c8d9e0f1a2b3c",
                timestamp: 1732617602000,
                nonce: 540297,
                data: {
                    type: "çŠ¶æ€æ›´æ–°",
                    batchId: "B20251125001",
                    previousStatus: "ç‰§åœºå…»æ®–ä¸­",
                    newStatus: "æ£€ç–«æ£€éªŒå®Œæˆ",
                    location: "ç‰§åœºæ£€ç–«ä¸­å¿ƒ",
                    inspector: "å¼ å…½åŒ»",
                    result: "é€šè¿‡",
                    temperature: "æ­£å¸¸",
                    certificate: "æ£€ç–«åˆæ ¼è¯ç¼–å·: JL20251125001"
                }
            }
        ];

        // é¡µé¢åŠ è½½ååˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', function () {
            renderBlockchain();
            updateBlockCount();
            initializeProgressBar();
            generateQrCode(); // ç”ŸæˆäºŒç»´ç 

            // æ·»åŠ äº‹ä»¶ç›‘å¬å™¨
            document.getElementById('addBeefBtn').addEventListener('click', addBeefBatch);
            document.getElementById('updateStatusBtn').addEventListener('click', updateBeefStatus);
            document.getElementById('verifyBtn').addEventListener('click', verifyBlockchain);
            document.getElementById('scanQRBtn').addEventListener('click', simulateQRScan);
            document.getElementById('downloadQrBtn').addEventListener('click', downloadQrCode);

            // å…³é—­æ¨¡æ€æ¡†äº‹ä»¶
            document.getElementById('closeAddModal').addEventListener('click', function () {
                document.getElementById('addBeefModal').style.display = 'none';
            });

            document.getElementById('closeStatusModal').addEventListener('click', function () {
                document.getElementById('statusModal').style.display = 'none';
            });

            document.getElementById('closeVerifyModal').addEventListener('click', function () {
                document.getElementById('verifyModal').style.display = 'none';
            });

            // ç‚¹å‡»æ¨¡æ€æ¡†å¤–éƒ¨å…³é—­
            window.addEventListener('click', function (event) {
                if (event.target.classList.contains('modal')) {
                    event.target.style.display = 'none';
                }
            });
        });

        // ç”ŸæˆäºŒç»´ç 
        function generateQrCode() {
            // è·å–å½“å‰é¡µé¢URLä½œä¸ºäºŒç»´ç å†…å®¹
            const currentUrl = window.location.href;

            // ä½¿ç”¨è‰æ–™äºŒç»´ç APIç”ŸæˆäºŒç»´ç ï¼ˆå…è´¹æ¥å£ï¼‰
            // æ³¨æ„ï¼šå¦‚æœæ˜¯æœ¬åœ°æ–‡ä»¶ï¼ˆfile://åè®®ï¼‰ï¼ŒäºŒç»´ç å¯èƒ½æ— æ³•æ­£å¸¸æ‰«æ
            // å»ºè®®éƒ¨ç½²åˆ°æœåŠ¡å™¨åä½¿ç”¨
            const qrApiUrl = `https://api.qrserver.com/v1/create-qr-code/?size=180x180&data=${encodeURIComponent(currentUrl)}&margin=10&ecc=L`;

            const qrImage = document.getElementById('qrImage');
            qrImage.src = qrApiUrl;

            // ä¿å­˜äºŒç»´ç URLä¾›ä¸‹è½½ä½¿ç”¨
            qrImage.dataset.qrUrl = qrApiUrl;
        }

        // ä¸‹è½½äºŒç»´ç 
        function downloadQrCode() {
            const qrImage = document.getElementById('qrImage');
            const qrUrl = qrImage.dataset.qrUrl;

            if (!qrUrl) {
                alert('äºŒç»´ç ç”Ÿæˆä¸­ï¼Œè¯·ç¨åå†è¯•');
                return;
            }

            // åˆ›å»ºä¸‹è½½é“¾æ¥
            const link = document.createElement('a');
            link.href = qrUrl;
            link.download = 'ç‰›è‚‰æº¯æºåŒºå—é“¾äºŒç»´ç .png';
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);

            // æ˜¾ç¤ºä¸‹è½½æˆåŠŸæç¤º
            setTimeout(() => {
                alert('äºŒç»´ç ä¸‹è½½æˆåŠŸï¼å·²ä¿å­˜ä¸º "ç‰›è‚‰æº¯æºåŒºå—é“¾äºŒç»´ç .png"');
            }, 500);
        }

        // æ¸²æŸ“åŒºå—é“¾
        function renderBlockchain() {
            const blockList = document.getElementById('blockList');
            blockList.innerHTML = '';

            blockchain.forEach((block, index) => {
                const blockElement = document.createElement('div');
                blockElement.className = 'block';
                if (block.index === 1) {
                    blockElement.classList.add('genesis');
                }
                if (index === blockchain.length - 1) {
                    blockElement.classList.add('new');
                }

                let dataHTML = '';
                if (block.data.type === "åˆ›ä¸–åŒºå—") {
                    dataHTML = `
                        <div class="block-field">
                            <div class="field-label">åŒºå—ç±»å‹</div>
                            <div class="field-value">${block.data.type}</div>
                        </div>
                        <div class="block-field">
                            <div class="field-label">ç³»ç»Ÿç‰ˆæœ¬</div>
                            <div class="field-value">${block.data.version}</div>
                        </div>
                        <div class="block-field">
                            <div class="field-label">åŒºå—é“¾ç½‘ç»œ</div>
                            <div class="field-value">${block.data.network}</div>
                        </div>
                        <div class="block-field">
                            <div class="field-label">æè¿°</div>
                            <div class="field-value">${block.data.description}</div>
                        </div>
                    `;
                } else if (block.data.type === "ç‰›è‚‰æ‰¹æ¬¡åˆ›å»º") {
                    dataHTML = `
                        <div class="block-field">
                            <div class="field-label">æ‰¹æ¬¡å·</div>
                            <div class="field-value">${block.data.batchId}</div>
                        </div>
                        <div class="block-field">
                            <div class="field-label">ç”Ÿäº§æ—¥æœŸ</div>
                            <div class="field-value">${block.data.productionDate}</div>
                        </div>
                        <div class="block-field">
                            <div class="field-label">å…»æ®–åœº</div>
                            <div class="field-value">${block.data.farm}</div>
                        </div>
                        <div class="block-field">
                            <div class="field-label">ç‰›åªå“ç§</div>
                            <div class="field-value">${block.data.breed}</div>
                        </div>
                        <div class="block-field">
                            <div class="field-label">å…»æ®–æˆ·</div>
                            <div class="field-value">${block.data.farmer}</div>
                        </div>
                        <div class="block-field">
                            <div class="field-label">çŠ¶æ€</div>
                            <div class="field-value">${block.data.status}</div>
                        </div>
                        <div class="block-field">
                            <div class="field-label">å¤‡æ³¨</div>
                            <div class="field-value">${block.data.notes}</div>
                        </div>
                    `;
                } else if (block.data.type === "çŠ¶æ€æ›´æ–°") {
                    dataHTML = `
                        <div class="block-field">
                            <div class="field-label">æ‰¹æ¬¡å·</div>
                            <div class="field-value">${block.data.batchId}</div>
                        </div>
                        <div class="block-field">
                            <div class="field-label">å‰çŠ¶æ€</div>
                            <div class="field-value">${block.data.previousStatus}</div>
                        </div>
                        <div class="block-field">
                            <div class="field-label">æ–°çŠ¶æ€</div>
                            <div class="field-value">${block.data.newStatus}</div>
                        </div>
                        <div class="block-field">
                            <div class="field-label">åœ°ç‚¹</div>
                            <div class="field-value">${block.data.location}</div>
                        </div>
                        <div class="block-field">
                            <div class="field-label">æ£€éªŒå‘˜</div>
                            <div class="field-value">${block.data.inspector}</div>
                        </div>
                        <div class="block-field">
                            <div class="field-label">æ£€éªŒç»“æœ</div>
                            <div class="field-value">${block.data.result}</div>
                        </div>
                        <div class="block-field">
                            <div class="field-label">æ¸©åº¦è®°å½•</div>
                            <div class="field-value">${block.data.temperature}</div>
                        </div>
                        <div class="block-field">
                            <div class="field-label">åˆæ ¼è¯ç¼–å·</div>
                            <div class="field-value">${block.data.certificate}</div>
                        </div>
                    `;
                }

                blockElement.innerHTML = `
                    <div class="block-header">
                        <h3 class="block-title">åŒºå— #${block.index}</h3>
                        <span class="block-badge">${block.data.type}</span>
                    </div>
                    <div class="block-content">
                        <div class="block-field">
                            <div class="field-label">åŒºå—å“ˆå¸Œ</div>
                            <div class="field-value">${block.hash}</div>
                        </div>
                        <div class="block-field">
                            <div class="field-label">å‰ä¸€åŒºå—å“ˆå¸Œ</div>
                            <div class="field-value">${block.previousHash}</div>
                        </div>
                        <div class="block-field">
                            <div class="field-label">æ—¶é—´æˆ³</div>
                            <div class="field-value">${new Date(block.timestamp).toLocaleString()}</div>
                        </div>
                        <div class="block-field">
                            <div class="field-label">éšæœºæ•°(Nonce)</div>
                            <div class="field-value">${block.nonce}</div>
                        </div>
                        ${dataHTML}
                    </div>
                `;

                blockList.appendChild(blockElement);
            });
        }

        // æ›´æ–°åŒºå—è®¡æ•°
        function updateBlockCount() {
            document.getElementById('blockCount').textContent = blockchain.length;
        }

        // åˆå§‹åŒ–è¿›åº¦æ¡
        function initializeProgressBar() {
            const progressBar = document.getElementById('systemProgress');
            progressBar.style.width = '100%';
        }

        // æ˜¾ç¤ºåŠ è½½åŠ¨ç”»
        function showLoading(button) {
            const originalText = button.innerHTML;
            button.innerHTML = '<span class="loader"></span>å¤„ç†ä¸­...';
            button.disabled = true;
            return originalText;
        }

        // éšè—åŠ è½½åŠ¨ç”»
        function hideLoading(button, originalText) {
            button.innerHTML = originalText;
            button.disabled = false;
        }

        // æ·»åŠ ç‰›è‚‰æ‰¹æ¬¡
        function addBeefBatch() {
            const button = document.getElementById('addBeefBtn');
            const originalText = showLoading(button);

            // æ¨¡æ‹Ÿç½‘ç»œå»¶è¿Ÿ
            setTimeout(() => {
                const lastBlock = blockchain[blockchain.length - 1];
                const newIndex = blockchain.length + 1;
                const newTimestamp = new Date().getTime();

                // ç”Ÿæˆæ›´çœŸå®çš„å“ˆå¸Œå€¼
                const newHash = generateHash(lastBlock.hash, newTimestamp);

                const newBlock = {
                    index: newIndex,
                    hash: newHash,
                    previousHash: lastBlock.hash,
                    timestamp: newTimestamp,
                    nonce: Math.floor(Math.random() * 1000000),
                    data: {
                        type: "ç‰›è‚‰æ‰¹æ¬¡åˆ›å»º",
                        batchId: `B2025112600${newIndex - 1}`,
                        productionDate: new Date().toISOString().split('T')[0],
                        status: "ç‰§åœºå…»æ®–ä¸­",
                        farm: "å†…è’™å¤è‰åŸä¼˜è´¨ç‰§åœº",
                        breed: "è¥¿é—¨å¡”å°”ç‰›",
                        farmer: "æç‰§ä¸š",
                        notes: "æ–°å¢ç‰›è‚‰æ‰¹æ¬¡ï¼Œå¼€å§‹å…¨é“¾æ¡æº¯æºè®°å½•ï¼Œç¬¦åˆæœ‰æœºå…»æ®–æ ‡å‡†"
                    }
                };

                blockchain.push(newBlock);
                renderBlockchain();
                updateBlockCount();

                // æ›´æ–°æ¨¡æ€æ¡†å†…å®¹
                document.getElementById('newBlockHash').textContent = newBlock.hash;
                document.getElementById('blockchainTime').textContent = new Date(newTimestamp).toLocaleString();
                document.getElementById('addBeefModal').style.display = 'flex';

                // æ›´æ–°çŠ¶æ€æŒ‡ç¤ºå™¨
                document.getElementById('statusIndicator').innerHTML =
                    `<span id="statusIcon">âœ…</span> æˆåŠŸæ·»åŠ ç‰›è‚‰æ‰¹æ¬¡ ${newBlock.data.batchId} - å½“å‰åŒºå—é“¾ä¸­å…±æœ‰ <span id="blockCount">${blockchain.length}</span> ä¸ªåŒºå—`;

                hideLoading(button, originalText);
            }, 1000);
        }

        // æ›´æ–°ç‰›è‚‰çŠ¶æ€
        function updateBeefStatus() {
            const button = document.getElementById('updateStatusBtn');
            const originalText = showLoading(button);

            // æ¨¡æ‹Ÿç½‘ç»œå»¶è¿Ÿ
            setTimeout(() => {
                const lastBlock = blockchain[blockchain.length - 1];
                const statuses = [
                    { status: "å± å®°åŠ å·¥ä¸­", location: "æ ‡å‡†åŒ–å± å®°åŠ å·¥å‚", inspector: "ç‹è´¨æ£€å‘˜", temp: "0-4Â°C", cert: "JJ20251126001" },
                    { status: "å†·é“¾è¿è¾“ä¸­", location: "é€”ä¸­-äº¬è—é«˜é€Ÿ", inspector: "ç‰©æµç³»ç»Ÿ", temp: "0-4Â°C", cert: "WL20251126001" },
                    { status: "ä»“å‚¨ä¸­", location: "åŒ—äº¬å†·é“¾ç‰©æµä¸­å¿ƒ", inspector: "ä»“å‚¨ç®¡ç†ç³»ç»Ÿ", temp: "-18Â°C", cert: "CC20251126001" },
                    { status: "ä¸Šæ¶é”€å”®", location: "åŒ—äº¬æŸå¤§å‹è¶…å¸‚", inspector: "è¶…å¸‚è´¨æ£€", temp: "0-4Â°C", cert: "CS20251126001" },
                    { status: "å·²å”®å‡º", location: "æ¶ˆè´¹è€…", inspector: "é”€å”®ç³»ç»Ÿ", temp: "ç¯å¢ƒæ¸©åº¦", cert: "XS20251126001" }
                ];

                const randomStatus = statuses[Math.floor(Math.random() * statuses.length)];
                const newIndex = blockchain.length + 1;
                const newTimestamp = new Date().getTime();
                const newHash = generateHash(lastBlock.hash, newTimestamp);

                const newBlock = {
                    index: newIndex,
                    hash: newHash,
                    previousHash: lastBlock.hash,
                    timestamp: newTimestamp,
                    nonce: Math.floor(Math.random() * 1000000),
                    data: {
                        type: "çŠ¶æ€æ›´æ–°",
                        batchId: lastBlock.data.batchId,
                        previousStatus: lastBlock.data.status || lastBlock.data.newStatus,
                        newStatus: randomStatus.status,
                        location: randomStatus.location,
                        inspector: randomStatus.inspector,
                        result: "æ­£å¸¸",
                        temperature: randomStatus.temp,
                        certificate: `åˆæ ¼è¯ç¼–å·: ${randomStatus.cert}`
                    }
                };

                blockchain.push(newBlock);
                renderBlockchain();
                updateBlockCount();

                // æ›´æ–°çŠ¶æ€æ›´æ–°æ¨¡æ€æ¡†
                document.getElementById('updateTime').textContent = new Date(newTimestamp).toLocaleString();
                document.getElementById('statusModal').style.display = 'flex';

                // æ›´æ–°çŠ¶æ€æŒ‡ç¤ºå™¨
                document.getElementById('statusIndicator').innerHTML =
                    `<span id="statusIcon">ğŸ”„</span> ç‰›è‚‰çŠ¶æ€å·²æ›´æ–°ä¸º ${newBlock.data.newStatus} - å½“å‰åŒºå—é“¾ä¸­å…±æœ‰ <span id="blockCount">${blockchain.length}</span> ä¸ªåŒºå—`;

                hideLoading(button, originalText);
            }, 1000);
        }

        // ç”Ÿæˆæ›´çœŸå®çš„å“ˆå¸Œå€¼
        function generateHash(previousHash, timestamp) {
            const chars = '0123456789abcdef';
            let hash = '0x';
            for (let i = 0; i < 64; i++) {
                hash += chars[Math.floor(Math.random() * chars.length)];
            }
            return hash;
        }

        // éªŒè¯åŒºå—é“¾
        function verifyBlockchain() {
            const button = document.getElementById('verifyBtn');
            const originalText = showLoading(button);

            // æ¨¡æ‹ŸéªŒè¯è¿‡ç¨‹
            setTimeout(() => {
                document.getElementById('verifiedBlocks').textContent = blockchain.length;
                document.getElementById('verifyTime').textContent = new Date().toLocaleString();
                document.getElementById('verifyModal').style.display = 'flex';

                // æ›´æ–°çŠ¶æ€æŒ‡ç¤ºå™¨
                document.getElementById('statusIcon').textContent = 'âœ…';
                document.getElementById('statusIndicator').innerHTML =
                    `âœ… åŒºå—é“¾éªŒè¯é€šè¿‡ - æ‰€æœ‰ ${blockchain.length} ä¸ªåŒºå—æ•°æ®å®Œæ•´ä¸”æœªè¢«ç¯¡æ”¹`;

                hideLoading(button, originalText);
            }, 800);
        }

        // æ¨¡æ‹Ÿæ‰«ç æº¯æº
        function simulateQRScan() {
            const randomBlock = blockchain[Math.floor(Math.random() * (blockchain.length - 1)) + 1];
            if (!randomBlock) return;

            const status = randomBlock.data.newStatus || randomBlock.data.status;
            const location = randomBlock.data.location || "æœªçŸ¥ä½ç½®";

            const scanResult = `
                ğŸ¥© ç‰›è‚‰æº¯æºä¿¡æ¯ ğŸ¥©
                
                æ‰¹æ¬¡å·ï¼š${randomBlock.data.batchId}
                å½“å‰çŠ¶æ€ï¼š${status}
                æ‰€åœ¨ä½ç½®ï¼š${location}
                æœ€åæ›´æ–°ï¼š${new Date(randomBlock.timestamp).toLocaleString()}
                åŒºå—é“¾é«˜åº¦ï¼š${randomBlock.index}
                
                æ‰«ç æˆåŠŸï¼åŒºå—é“¾æº¯æºä¿¡æ¯çœŸå®å¯ä¿¡ã€‚
            `;

            alert(scanResult);
        }
    </script>
</body>

</html>